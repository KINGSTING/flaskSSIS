{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<h1>Simple Student Information System</h1>
<button id="addStudentButton" onclick="toggleForm()">Add Student</button>

<div id="formModal" class="modal hidden">
    <div class="modal-content">
        <span class="close" onclick="toggleForm()">&times;</span>
        <form id="student-form" action="/add_student" method="post">
            <label for="idNumber">ID Number:</label>
            <input type="text" id="idNumber" name="idNumber" required>

            <label for="firstName">First Name:</label>
            <input type="text" id="firstName" name="firstName" required>

            <label for="lastName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" required>

            <label for="courseCode">Course Code:</label>
            <input type="text" id="courseCode" name="courseCode" required>

            <label for="year">Year Level:</label>
            <select id="year" name="year" required>
                <option value="" disabled selected>Select your Year Level</option>
                <option value="Male">1st Year</option>
                <option value="Female">2nd Year</option>
                <option value="Other">3rd Year</option>
                <option value="Other">4th Year</option>
                <option value="Other">5th Year</option>
                <option value="Other">6th Year</option>
            </select>

            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
                <option value="" disabled selected>Select your gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
            </select>

            <button type="submit">Submit</button>
        </form>
    </div>
</div>

<!-- Student Table -->
<table border="1" cellpadding="10">
    <thead>
        <tr>
            <th>ID Number</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Course Code</th>
            <th>Year</th>
            <th>Gender</th>
        </tr>
    </thead>
    <tbody>
        {% for student in students %}
        <tr>
            <td>{{ student['IDNumber'] }}</td>
            <td>{{ student['firstName'] }}</td>
            <td>{{ student['lastName'] }}</td>
            <td>{{ student['CourseCode'] }}</td>
            <td>{{ student['Year'] }}</td>
            <td>{{ student['Gender'] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
    }

    .modal {
        display: none; /* Hide by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    .modal-content {
        background-color: #fefefe;
        margin: 10% auto; /* Center the modal */
        padding: 20px;
        border: 1px solid #888;
        width: 300px; /* Slender width */
        border-radius: 5px; /* Rounded corners */
    }

    .modal.hidden {
        display: none; /* Hide the modal */
    }

    .modal.show {
        display: block; /* Show the modal */
    }

    form {
        display: flex;
        flex-direction: column; /* Stack form elements vertically */
    }

    label {
        margin: 5px 0 2px; /* Spacing for labels */
        font-weight: bold;
    }

    input {
        padding: 8px;
        margin-bottom: 10px; /* Spacing between inputs */
        border: 1px solid #ccc;
        border-radius: 4px; /* Rounded edges */
    }

    button {
        background-color: #4CAF50; /* Green */
        color: white;
        padding: 10px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    button:hover {
        background-color: #45a049; /* Darker green on hover */
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: #f2f2f2;
    }
</style>

<script>
    function toggleForm() {
        var modal = document.getElementById("formModal");
        modal.classList.toggle("hidden");
        modal.classList.toggle("show");
    }
</script>

{% endblock %}
